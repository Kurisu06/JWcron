<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cronómetro Profesional</title>

<style>
:root {
    --pause: #3a3a3a;
    --run: #16a34a;
    --warning: #f59e0b;
    --over: #dc2626;
}

body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: #0f172a;
    color: white;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px;
}

.timer {
    width: 360px;
    height: 160px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 80px;
    font-weight: 600;
    border-radius: 18px;
    background: var(--pause);
    transition: 0.4s ease;
    letter-spacing: 3px;
}

.controls {
    display: flex;
    gap: 10px;
}

button, input {
    background: #1e293b;
    border: none;
    color: white;
    padding: 10px 14px;
    border-radius: 10px;
    font-size: 14px;
}

button {
    cursor: pointer;
    transition: 0.2s;
}

button:hover {
    background: #334155;
}

.settings {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
}
</style>
</head>
<body>

<div class="container">

    <div class="timer" id="timer">00:00</div>

    <div class="controls">
        <button onclick="startTimer()">▶</button>
        <button onclick="pauseTimer()">⏸</button>
        <button onclick="resetTimer()">⟲</button>
        <button onclick="openFullscreen()">⛶</button>
    </div>

    <div class="settings">
        <span>Límite (min)</span>
        <input type="number" id="limitInput" value="5" min="1" style="width:60px;">
    </div>

</div>

<script>
let seconds = 0;
let running = false;
let interval;
let displayWindow = null;

const timerDisplay = document.getElementById("timer");

function formatTime() {
    const m = String(Math.floor(seconds / 60)).padStart(2,'0');
    const s = String(seconds % 60).padStart(2,'0');
    return `${m}:${s}`;
}

function updateColor(target) {
    const limit = document.getElementById("limitInput").value * 60;
    let color;

    if (!running) color = getComputedStyle(document.documentElement).getPropertyValue('--pause');
    else if (seconds >= limit) color = getComputedStyle(document.documentElement).getPropertyValue('--over');
    else if (seconds >= limit - 30) color = getComputedStyle(document.documentElement).getPropertyValue('--warning');
    else color = getComputedStyle(document.documentElement).getPropertyValue('--run');

    target.style.background = color;
}

function updateDisplay() {
    const time = formatTime();
    timerDisplay.textContent = time;
    updateColor(timerDisplay);

    if (displayWindow && !displayWindow.closed) {
        const fsTimer = displayWindow.document.getElementById("fsTimer");
        fsTimer.textContent = time;
        updateColor(displayWindow.document.body);
    }
}

function startTimer() {
    if (!running) {
        running = true;
        interval = setInterval(() => {
            seconds++;
            updateDisplay();
        }, 1000);
    }
}

function pauseTimer() {
    running = false;
    clearInterval(interval);
    updateDisplay();
}

function resetTimer() {
    running = false;
    clearInterval(interval);
    seconds = 0;
    updateDisplay();
}

function openFullscreen() {

    displayWindow = window.open("", "_blank");

    displayWindow.document.write(`
        <html>
        <head>
        <title>Cronómetro</title>
        <style>
            body {
                margin:0;
                display:flex;
                justify-content:center;
                align-items:center;
                height:100vh;
                background:black;
                color:white;
                font-family: 'Segoe UI', sans-serif;
                font-size:180px;
                font-weight:600;
                letter-spacing:6px;
            }
        </style>
        </head>
        <body>
            <div id="fsTimer">00:00</div>
        </body>
        </html>
    `);

    displayWindow.document.close();

    // Forzar pantalla completa automáticamente
    displayWindow.onload = function() {
        displayWindow.document.documentElement.requestFullscreen().catch(()=>{});
    };
}

updateDisplay();
</script>

</body>
</html>

</html>




